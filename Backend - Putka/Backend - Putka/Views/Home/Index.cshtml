@model HomeViewModel
@{
    ViewBag.Title = "The Freshest Products are just here | Putka";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- Main Start -->
<main class="pb-md-4 pb-0">
    <!-- Home Section Start -->
    <section class="home-section pt-2">
        <div class="container-fluid-lg">
            <div class="row g-4">
                <div class="col-xl-8 ratio_65">
                    <div class="home-contain h-100">
                        <div class="h-100">
                            <img src="~/assets/images/vegetable/banner/1.jpg" class="bg-img blur-up lazyload" alt="">
                        </div>
                        <div class="home-detail p-center-left w-75">
                            <div>
                                <h6>Exclusive offer <span>30% Off</span></h6>
                                <h1 class="text-uppercase">
                                    Stay home & delivered your <span class="daily">
                                        Daily
                                        Needs
                                    </span>
                                </h1>
                                <p class="w-75 d-none d-sm-block">
                                    Vegetables contain many vitamins and minerals that are
                                    good for your health.
                                </p>
                                <button onclick="location.href = '@Url.Action("Index", "Shop")';"
                                        class="btn btn-animation mt-xxl-4 mt-2 home-button mend-auto">
                                    Shop Now <i class="fa-solid fa-right-long icon"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xl-4 ratio_65">
                    <div class="row g-4">
                        <div class="col-xl-12 col-md-6">
                            <div class="home-contain">
                                <img src="~/assets/images/vegetable/banner/2.jpg" class="bg-img blur-up lazyload"
                                     alt="">
                                <div class="home-detail p-center-left home-p-sm w-75">
                                    <div>
                                        <h2 class="mt-0 text-danger">
                                            45% <span class="discount text-title">OFF</span>
                                        </h2>
                                        <h3 class="theme-color">Nut Collection</h3>
                                        <p class="w-75">We deliver organic vegetables & fruits</p>
                                        <a asp-controller="shop" asp-action="index" class="shop-button">
                                            Shop Now <i class="fa-solid fa-right-long"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-xl-12 col-md-6">
                            <div class="home-contain">
                                <img src="~/assets/images/vegetable/banner/3.jpg" class="bg-img blur-up lazyload"
                                     alt="">
                                <div class="home-detail p-center-left home-p-sm w-75">
                                    <div>
                                        <h3 class="mt-0 theme-color fw-bold">Healthy Food</h3>
                                        <h4 class="text-danger">Organic Market</h4>
                                        <p class="organic">Start your daily shopping with some Organic food</p>
                                        <a asp-controller="shop" asp-action="index" class="shop-button">
                                            Shop Now <i class="fa-solid fa-right-long"></i>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Home Section End -->
    <!-- Banner Section Start -->
    <section class="banner-section ratio_60 wow fadeInUp">
        <div class="container-fluid-lg">
            <div class="banner-slider">
                @foreach (var item in Model.SmallBanners)
                {
                    <div>
                        <div class="banner-contain hover-effect">
                            <img src="~/uploads/banners/@item.BackgroundImage" class="bg-img blur-up lazyload" alt="">
                            <div class="banner-details">
                                <div class="banner-box">
                                    <h6 class="text-danger">@item.SaleText</h6>
                                    <h5>@item.HeaderOne</h5>
                                    <h6 class="text-content">@item.Description</h6>
                                </div>
                                <a asp-controller="shop" asp-action="index" class="banner-button text-white">
                                    @item.ButtonText <i class="fa-solid fa-right-long ms-2"></i>
                                </a>
                            </div>
                        </div>
                    </div>

                }
            </div>
        </div>
    </section>
    <!-- Banner Section End -->
    <!-- Product Section Start -->
    <section class="product-section">
        <div class="container-fluid-lg">
            <div class="row g-sm-4 g-3">
                <div class="col-xxl-3 col-xl-4 d-none d-xl-block">
                    <div class="p-sticky">
                        <div class="category-menu">
                            <h3>Category</h3>
                            <ul>
                                @foreach (var item in Model.Categories)
                                {
                                    <li>
                                        <div class="category-list">
                                            <img src="/assets/svg/@item.Icon" class="blur-up lazyload" alt="">
                                            <h5>
                                                <a href="@Url.Action("Index", "Shop", new { categoryId = item.Id })">@item.Name</a>
                                            </h5>
                                        </div>
                                    </li>
                                }
                                
                            </ul>
                        </div>

                        <div class="ratio_medium section-t-space">
                            <div class="home-contain hover-effect">
                                <img src="~/assets/images/vegetable/banner/11.jpg" class="img-fluid blur-up lazyload"
                                     alt="">
                                <div class="home-detail p-top-left home-p-medium">
                                    <div>
                                        <h4 class="text-yellow text-exo home-banner">Organic</h4>
                                        <h2 class="text-uppercase fw-normal mb-0 text-russo theme-color">fresh</h2>
                                        <h2 class="text-uppercase fw-normal text-title">Vegetables</h2>
                                        <p class="mb-3">Super Offer to 50% Off</p>
                                        <button onclick="location.href = '@Url.Action("Index", "Shop")';"
                                                class="btn btn-animation btn-md mend-auto">
                                            Shop Now <i class="fa-solid fa-arrow-right icon"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="section-t-space">
                            <div class="category-menu">
                                <h3>Trending Products</h3>

                                <ul class="product-list border-0 p-0 d-block">
                                    @foreach (var item in Model.TrendingProducts)
                                    {
                                        <li>
                                            <div class="offer-product">
                                                <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="offer-image">
                                                    <img src="~/uploads/products/@item.ProductImages.FirstOrDefault(x=>x.IsMain == true)?.Url"
                                                         class="blur-up lazyload" alt="">
                                                </a>

                                                <div class="offer-detail">
                                                    <div>
                                                        <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="text-title">
                                                            <h6 class="name">@item.Name</h6>
                                                        </a>
                                                        <h6 class="price theme-color">$ @((item.SalePrice * (100 - item.DiscountPercent) / 100).ToString("0.00"))</h6>
                                                    </div>
                                                </div>
                                            </div>
                                        </li>
                                    }
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-xxl-9 col-xl-8">
                    <div class="title title-flex">
                        <div>
                            <h2>Top Save Today</h2>
                            <span class="title-leaf">
                            </span>
                            <p>Don't miss this opportunity at a special discount just for this week.</p>
                        </div>
                        <div class="timing-box">
                            <div class="timing">
                                <i data-feather="clock"></i>
                                <h6 class="name">Expires in :</h6>
                                <div class="time" id="clockdiv-1" data-hours="1" data-minutes="2" data-seconds="3">
                                    <ul>
                                        <li>
                                            <div class="counter">
                                                <div class="days">
                                                    <h6></h6>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="counter">
                                                <div class="hours">
                                                    <h6></h6>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="counter">
                                                <div class="minutes">
                                                    <h6></h6>
                                                </div>
                                            </div>
                                        </li>
                                        <li>
                                            <div class="counter">
                                                <div class="seconds">
                                                    <h6></h6>
                                                </div>
                                            </div>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="section-b-space">
                        <div class="product-border border-row overflow-hidden">
                            <div class="product-box-slider no-arrow">

                                @foreach (var item in Model.Products)
                                {
                                    int rate = item.ProductComments.Any() ? (int)Math.Ceiling(item.ProductComments.Average(x => x.Rate)) : 0;

                                    if (item.Id % 2 != 0)
                                    {
                                        <div>
                                            <div class="row m-0">

                                                <div class="col-12 px-0">
                                                    <div class="product-box">
                                                        <div class="product-image">
                                                            <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id">
                                                                <img src="~/uploads/products/@item.ProductImages.FirstOrDefault(x=>x.IsMain == true)?.Url"
                                                                     class="img-fluid blur-up lazyload" alt="">
                                                            </a>
                                                            <ul class="product-option">
                                                                <li data-bs-toggle="tooltip" data-bs-placement="top"
                                                                    title="View">
                                                                    <a asp-controller="product" asp-action="productdetail" asp-route-id="@item.Id" class="quick-view-modal-btn">
                                                                        <i data-feather="eye"></i>
                                                                    </a>
                                                                </li>

                                                                <li data-bs-toggle="tooltip" data-bs-placement="top"
                                                                    title="Wishlist">
                                                                    <a asp-controller="product" asp-action="addtowishlist" asp-route-id="@item.Id" class="notifi-wishlist addtowishlist">
                                                                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-heart" id="heart"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
                                                                    </a>    
                                                                </li>
                                                            </ul>
                                                        </div>
                                                        <div class="product-detail">
                                                            <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id">
                                                                <h6 class="name">@item.Name</h6>
                                                            </a>

                                                            <h5 class="sold text-content">
                                                                @if (item.DiscountPercent != 0)
                                                                {
                                                                    <span class="theme-color price">$@((item.SalePrice * (100 - item.DiscountPercent) / 100).ToString("0.00"))</span>
                                                                    <del>$@item.SalePrice.ToString("0.00")</del>
                                                                }
                                                                else
                                                                {
                                                                    <span class="theme-color price">$@((item.SalePrice * (100 - item.DiscountPercent) / 100).ToString("0.00"))</span>
                                                                }
                                                            </h5>

                                                            <div class="product-rating mt-sm-2 mt-1">
                                                                <ul class="rating">
                                                                    @for (int i = 1; i <= 5; i++)
                                                                    {
                                                                        <li>
                                                                            <i data-feather="star" class="@(i <= rate ? "fill" : "")"></i>
                                                                        </li>
                                                                    }
                                                                </ul>

                                                                <h6 class="theme-color">
                                                                    @if (item.StockStatus)
                                                                    {
                                                                        <text>In Stock</text>
                                                                    }
                                                                    else
                                                                    {
                                                                        <text>Out of Stock</text>
                                                                    }
                                                                </h6>
                                                            </div>

                                                            <div class="add-to-cart-box">
                                                                <button class="btn btn-add-cart addcart-button addtobasket"
                                                                        data-url="@Url.Action("addtobasket", "product", new { id = item.Id })"
                                                                        data-product-id="@item.Id">
                                                                    Add
                                                                    <span class="add-icon bg-light-gray">
                                                                        <i class="fa-solid fa-plus"></i>
                                                                    </span>
                                                                </button>
                                                                <div class="cart_qty qty-box">
                                                                    <div class="input-group">
                                                                        <button type="button" class="qty-left-minus removefrombasket"
                                                                                data-type="minus" data-field="" data-url="@Url.Action("removebasket", "product", new { id = item.Id })">
                                                                            <i class="fa fa-minus" aria-hidden="true"></i>
                                                                        </button>
                                                                            <input class="form-control input-number qty-input"
                                                                                   type="text" name="quantity" value="0" data-product-id="@item.Id" disabled>
                                                                        <button type="button" class="qty-right-plus addtobasket"
                                                                                data-type="plus" data-field="" data-url="@Url.Action("addtobasket", "product", new { id = item.Id })">
                                                                            <i class="fa fa-plus" aria-hidden="true"></i>
                                                                        </button>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    }
                                }

                            </div>
                        </div>
                    </div>

                    <div class="title d-block">
                        <div>
                            <h2>Our best Seller</h2>
                            <span class="title-leaf">
                            </span>
                            <p>A virtual assistant collects the products from your list</p>
                        </div>
                    </div>

                    <div class="best-selling-slider product-wrapper wow fadeInUp">
                        <div>
                            <ul class="product-list">
                                @foreach (var item in Model.BestSellerProducts.Take(4))
                                {
                                    decimal productWeight = @item.ProductWeights.FirstOrDefault(x => x.ProductId == item.Id).Weight.Name;

                                    <li>
                                        <div class="offer-product">
                                            <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="offer-image">
                                                <img src="~/uploads/products/@item.ProductImages.FirstOrDefault(x=>x.IsMain == true)?.Url"
                                                     class="blur-up lazyload" alt="">
                                            </a>

                                            <div class="offer-detail">
                                                <div>
                                                    <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="text-title">
                                                        <h6 class="name">@item.Name</h6>
                                                    </a>
                                                    <span>@((productWeight * 1000).ToString("0")) G</span>
                                                    @if (item.DiscountPercent > 0)
                                                    {
                                                        <h6 class="price theme-color">@((item.SalePrice * (100 - item.DiscountPercent) / 100).ToString("0.00"))</h6>
                                                    }
                                                    else
                                                    {
                                                        <h6 class="price theme-color">@item.SalePrice.ToString("0.00")</h6>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                }
                            </ul>
                        </div>

                        <div>
                            <ul class="product-list">
                                @foreach (var item in Model.BestSellerProducts.Skip(4).Take(4))
                                {
                                    decimal productWeight = @item.ProductWeights.FirstOrDefault(x => x.ProductId == item.Id).Weight.Name;

                                    <li>
                                        <div class="offer-product">
                                            <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="offer-image">
                                                <img src="~/uploads/products/@item.ProductImages.FirstOrDefault(x=>x.IsMain == true)?.Url"
                                                     class="blur-up lazyload" alt="">
                                            </a>

                                            <div class="offer-detail">
                                                <div>
                                                    <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="text-title">
                                                        <h6 class="name">@item.Name</h6>
                                                    </a>
                                                    <span>@((productWeight * 1000).ToString("0")) G</span>
                                                    @if (item.DiscountPercent > 0)
                                                    {
                                                        <h6 class="price theme-color">@((item.SalePrice * (100 - item.DiscountPercent) / 100).ToString("0.00"))</h6>
                                                    }
                                                    else
                                                    {
                                                        <h6 class="price theme-color">@item.SalePrice.ToString("0.00")</h6>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                }
                            </ul>
                        </div>

                        <div>
                            <ul class="product-list">
                                @foreach (var item in Model.BestSellerProducts.Skip(8).Take(4))
                                {
                                    <li>
                                        <div class="offer-product">
                                            <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="offer-image">
                                                <img src="~/uploads/products/@item.ProductImages.FirstOrDefault(x=>x.IsMain == true)?.Url"
                                                     class="blur-up lazyload" alt="">
                                            </a>

                                            <div class="offer-detail">
                                                <div>
                                                    <a asp-controller="product" asp-action="detail" asp-route-id="@item.Id" class="text-title">
                                                        <h6 class="name">@item.Name</h6>
                                                    </a>
                                                    <span>500 G</span>
                                                    @if (item.DiscountPercent > 0)
                                                    {
                                                        <h6 class="price theme-color">@((item.SalePrice * (100 - item.DiscountPercent) / 100).ToString("0.00"))</h6>
                                                    }
                                                    else
                                                    {
                                                        <h6 class="price theme-color">@item.SalePrice.ToString("0.00")</h6>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    </li>
                                }
                            </ul>
                        </div>
                    </div>

                    <div class="title section-t-space">
                        <h2>Featured Blog</h2>
                        <span class="title-leaf">
                        </span>
                        <p>A virtual assistant collects the products from your list</p>
                    </div>

                    <div class="slider-3-blog ratio_65 no-arrow product-wrapper">
                        <div>
                            <div class="blog-box">
                                <div class="blog-box-image">
                                    <a asp-controller="home" asp-action="blogs" class="blog-image">
                                        <img src="~/assets/images/vegetable/blog/1.jpg" class="bg-img blur-up lazyload"
                                             alt="">
                                    </a>
                                </div>

                                <a asp-controller="home" asp-action="blogs" class="blog-detail">
                                    <h6>20 March, 2022</h6>
                                    <h5>Fresh Vegetable Online</h5>
                                </a>
                            </div>
                        </div>

                        <div>
                            <div class="blog-box">
                                <div class="blog-box-image">
                                    <a asp-controller="home" asp-action="blogs" class="blog-image">
                                        <img src="~/assets/images/vegetable/blog/2.jpg" class="bg-img blur-up lazyload"
                                             alt="">
                                    </a>
                                </div>

                                <a asp-controller="home" asp-action="blogs" class="blog-detail">
                                    <h6>10 April, 2022</h6>
                                    <h5>Fresh Combo Fruit</h5>
                                </a>
                            </div>
                        </div>

                        <div>
                            <div class="blog-box">
                                <div class="blog-box-image">
                                    <a asp-controller="home" asp-action="blogs" class="blog-image">
                                        <img src="~/assets/images/vegetable/blog/3.jpg" class="bg-img blur-up lazyload"
                                             alt="">
                                    </a>
                                </div>

                                <a asp-controller="home" asp-action="blogs" class="blog-detail">
                                    <h6>10 April, 2022</h6>
                                    <h5>Nuts to Eat for Better Health</h5>
                                </a>
                            </div>
                        </div>

                        <div>
                            <div class="blog-box">
                                <div class="blog-box-image">
                                    <a asp-controller="home" asp-action="blogs" class="blog-image">
                                        <img src="~/assets/images/vegetable/blog/1.jpg" class="bg-img blur-up lazyload"
                                             alt="">
                                    </a>
                                </div>

                                <a asp-controller="home" asp-action="blogs" class="blog-detail">
                                    <h6>20 March, 2022</h6>
                                    <h5>Fresh Vegetable Online</h5>
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- Product Section End -->
    <!-- Quick View Modal Box Start -->
    <div class="modal fade theme-modal view-modal" id="view" tabindex="-1" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered modal-xl modal-fullscreen-sm-down">

        </div>
    </div>
    <!-- Quick View Modal Box End -->

</main>
<!-- Main End -->

@section styles{
    <!-- Google font -->
    <link rel="preconnect" href="https://fonts.gstatic.com/">
    <link href="https://fonts.googleapis.com/css2?family=Russo+One&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kaushan+Script&amp;display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Exo+2:wght@400;500;600;700;800;900&amp;display=swap"
          rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&amp;display=swap"
          rel="stylesheet">

    <!-- bootstrap css -->
    <link id="rtl-link" rel="stylesheet" type="text/css" href="~/assets/css/vendors/bootstrap.css">

    <!-- wow css -->
    <link rel="stylesheet" href="~/assets/css/animate.min.css" />

    <!-- font-awesome css -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/font-awesome.css">
    <script src="https://kit.fontawesome.com/460a2c75b1.js" crossorigin="anonymous"></script>

    <!-- feather icon css -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/feather-icon.css">

    <!-- slick css -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/slick/slick.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/slick/slick-theme.css">

    <!-- Iconly css -->
    <link rel="stylesheet" type="text/css" href="~/assets/css/bulk-style.css">
    <link rel="stylesheet" type="text/css" href="~/assets/css/vendors/animate.css">

    <!-- Template css -->
    <link id="color-link" rel="stylesheet" type="text/css" href="~/assets/css/style.css">
}

@section scripts{
    <script src="~/assets/js/pages/common.js" type="module" defer></script>
    <script src="~/assets/js/pages/index.js" type="module" defer></script>
    <script src="~/assets/js/script.js" defer></script>
    <script src="~/assets/js/view-modal.js" defer></script>

}

@section modals{
    @Html.Partial("_PrivacyPartialView");
    @Html.Partial("_LocationPartialModal");
    @Html.Partial("_DealBoxPartialModal");
}